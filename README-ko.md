# thrd-cli

ğŸ“– [English](./README.md) | ğŸ“ [ì•„í‚¤í…ì²˜](./docs/ARCHITECTURE-ko.md)

Meta Threads APIë¥¼ ìœ„í•œ ë¹ ë¥´ê³  ê°€ë²¼ìš´ CLI ë„êµ¬.

```bash
npx thrd-cli post "í„°ë¯¸ë„ì—ì„œ ì“°ë ˆë“œ ì˜¬ë¦¬ê¸°!"
```

## ì£¼ìš” ê¸°ëŠ¥

- **ê²Œì‹œ** â€” í…ìŠ¤íŠ¸, ì´ë¯¸ì§€, ë™ì˜ìƒ, ìºëŸ¬ì…€ ê²Œì‹œë¬¼ ì‘ì„±
- **ë‹µê¸€** â€” ì“°ë ˆë“œì— ë‹µê¸€ ë‹¬ê¸°, ë‹µê¸€ ëª©ë¡ ì¡°íšŒ, ìˆ¨ê¸°ê¸°/í•´ì œ
- **íƒ€ì„ë¼ì¸** â€” ë‚´ ìµœê·¼ ì“°ë ˆë“œ ë³´ê¸°
- **ì¸ì‚¬ì´íŠ¸** â€” ë¯¸ë””ì–´ ë° ê³„ì • ìˆ˜ì¤€ ì§€í‘œ í™•ì¸
- **ì‚­ì œ** â€” ê²Œì‹œë¬¼ ì‚­ì œ
- **JSON ì¶œë ¥** â€” `--json` í”Œë˜ê·¸ë¡œ ìŠ¤í¬ë¦½íŒ… ì§€ì›
- **í† í° ê´€ë¦¬** â€” ë§Œë£Œ ì„ë°• ì‹œ ìë™ ê²½ê³ , ê°„í¸í•œ ê°±ì‹ 
- **2ë‹¨ê³„ ê²Œì‹œ** â€” ì»¨í…Œì´ë„ˆ ìƒì„± â†’ ë°œí–‰ ê³¼ì •ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬

## ì„¤ì¹˜

```bash
npm install -g thrd-cli
# ë˜ëŠ”
pnpm add -g thrd-cli
# ë˜ëŠ”
bun add -g thrd-cli
```

ì„¤ì¹˜ ì—†ì´ ë°”ë¡œ ì‚¬ìš©:
```bash
npx thrd-cli post "ì•ˆë…•!"
```

## ì„¤ì •

### 1. Meta ì•± ë§Œë“¤ê¸°

1. [Meta ê°œë°œì ëŒ€ì‹œë³´ë“œ](https://developers.facebook.com/apps/)ì—ì„œ ìƒˆ ì•± ìƒì„±
2. "Threads API" ì‚¬ìš© ì‚¬ë¡€ ì„ íƒ
3. **Settings > Basic**ì—ì„œ **App ID**ì™€ **App Secret** í™•ì¸
4. **Use Cases > Customize**ì—ì„œ í•„ìš”í•œ ê¶Œí•œ í™œì„±í™”
5. ì•± ì„¤ì •ì—ì„œ **Threads í…ŒìŠ¤í„°** (ë³¸ì¸ì˜ Threads ì‚¬ìš©ìëª…) ì¶”ê°€
6. [Threads ì„¤ì •](https://www.threads.net/settings/account)ì—ì„œ í…ŒìŠ¤í„° ì´ˆëŒ€ ìˆ˜ë½

### 2. ì•¡ì„¸ìŠ¤ í† í° ë°œê¸‰

ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²• â€” Metaì˜ ë‚´ì¥ í† í° ìƒì„±ê¸° ì‚¬ìš©:

1. ì•± ëŒ€ì‹œë³´ë“œì˜ **Use Cases > Customize > Settings**ë¡œ ì´ë™
2. **"User Token Generator"** í•­ëª©ê¹Œì§€ ìŠ¤í¬ë¡¤
3. Threads í…ŒìŠ¤í„° ê³„ì • ì˜†ì˜ **"Generate Access Token"** í´ë¦­
4. ìƒì„±ëœ ì¥ê¸° í† í° ë³µì‚¬

ì´í›„ `~/.config/thrd-cli/config.json` íŒŒì¼ ìƒì„±:
```json
{
  "app_id": "your_app_id",
  "app_secret": "your_app_secret",
  "access_token": "your_access_token"
}
```

```bash
# íŒŒì¼ ê¶Œí•œ ì„¤ì • (íƒ€ì¸ ì½ê¸° ë°©ì§€)
chmod 600 ~/.config/thrd-cli/config.json
```

### 2b. CLIë¡œ ì¸ì¦ (ëŒ€ì•ˆ)

```bash
thrd auth
```

ì´ ëª…ë ¹ì–´ëŠ”:
1. ë¸Œë¼ìš°ì €ë¥¼ ì—´ì–´ ì•± ì¸ì¦ì„ ì§„í–‰
2. ìì²´ ì„œëª… ì¸ì¦ì„œë¡œ ë¡œì»¬ **HTTPS** ì½œë°± ì„œë²„ ì‹œì‘ (ê¸°ë³¸ í¬íŠ¸ 3000)
3. ì¸ì¦ ì½”ë“œë¥¼ ì¥ê¸° í† í°ìœ¼ë¡œ êµí™˜ (ìœ íš¨ ê¸°ê°„ 60ì¼)
4. ìê²© ì¦ëª…ì„ `~/.config/thrd-cli/config.json`ì— ì €ì¥ (ê¶Œí•œ 600)

> **ì°¸ê³ :** `thrd auth`ëŠ” ì„ì‹œ ìì²´ ì„œëª… ì¸ì¦ì„œ ìƒì„±ì„ ìœ„í•´ [OpenSSL](https://www.openssl.org/)ì´ í•„ìš”í•©ë‹ˆë‹¤. macOSì™€ Linuxì—ëŠ” ëŒ€ë¶€ë¶„ ì‚¬ì „ ì„¤ì¹˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

í™˜ê²½ ë³€ìˆ˜ë¡œë„ ì„¤ì • ê°€ëŠ¥:
```bash
export THREADS_APP_ID="your_app_id"
export THREADS_APP_SECRET="your_app_secret"
export THREADS_ACCESS_TOKEN="your_access_token"
```

### 3. í† í° ê°±ì‹  (ë§Œë£Œ ì „)

```bash
thrd refresh
```

ì¥ê¸° í† í°ì€ 60ì¼ í›„ ë§Œë£Œë©ë‹ˆë‹¤. ë§Œë£Œ 7ì¼ ì „ë¶€í„° CLIê°€ ê²½ê³ ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

## ì‚¬ìš©ë²•

### ê²Œì‹œ

```bash
# í…ìŠ¤íŠ¸ ê²Œì‹œ
thrd post "ìƒˆë²½ 2ì‹œì— ì½”ë“œ ë°°í¬ ì¤‘"

# ì´ë¯¸ì§€ ì²¨ë¶€ (ê³µê°œ URLì´ì–´ì•¼ í•¨)
thrd post "ì´ê²ƒ ì¢€ ë´" --image https://example.com/photo.jpg

# ë™ì˜ìƒ ì²¨ë¶€
thrd post "ì´ê±° ë´ë´" --video https://example.com/clip.mp4

# ë‹µê¸€ ë²”ìœ„ ì œí•œ
thrd post "ì–´ë–»ê²Œ ìƒê°í•´?" --reply-control mentioned_only

# ë¯¸ë¦¬ë³´ê¸° (ì‹¤ì œ ê²Œì‹œ ì•ˆ í•¨)
thrd post "í…ŒìŠ¤íŠ¸..." --dry-run
```

### ìºëŸ¬ì…€

```bash
# í•œ ê²Œì‹œë¬¼ì— ì—¬ëŸ¬ ì´ë¯¸ì§€/ë™ì˜ìƒ (ìµœëŒ€ 10ê°œ)
thrd carousel "ì‚¬ì§„ ëª¨ìŒ" \
  --media https://example.com/1.jpg \
  --media https://example.com/2.jpg \
  --media https://example.com/3.mp4
```

### ë‹µê¸€

```bash
# ì“°ë ˆë“œì— ë‹µê¸€ ë‹¬ê¸°
thrd reply 18050206876707110 "ì¢‹ì€ í¬ì¸íŠ¸!"
```

### íƒ€ì„ë¼ì¸

```bash
# ë‚´ ìµœê·¼ ì“°ë ˆë“œ
thrd timeline

# ìµœê·¼ 5ê°œë§Œ
thrd timeline -n 5

# ì „ì²´ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜)
thrd timeline --all
```

### ë‹µê¸€ ê´€ë¦¬

```bash
# ì“°ë ˆë“œì˜ ë‹µê¸€ ëª©ë¡
thrd replies 18050206876707110

# ë‹µê¸€ ìˆ¨ê¸°ê¸°/í•´ì œ
thrd hide 18050206876707110
thrd unhide 18050206876707110
```

### í”„ë¡œí•„

```bash
# ë‚´ í”„ë¡œí•„
thrd me
```

### ì¸ì‚¬ì´íŠ¸

```bash
# ê³„ì • ìˆ˜ì¤€ ì¸ì‚¬ì´íŠ¸
thrd insights

# ë¯¸ë””ì–´ë³„ ì¸ì‚¬ì´íŠ¸
thrd insights 18050206876707110
```

### ì‚­ì œ

```bash
thrd delete 18050206876707110
```

## ì¸ì¦

thrd-cliëŠ” **OAuth 2.0** ì¸ì¦ ì½”ë“œ í”Œë¡œìš°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. Threads APIì˜ ì¸ì¦ ê³¼ì •:

1. **ë¸Œë¼ìš°ì € ì¸ì¦** â€” ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì¸ì¦
2. **ë‹¨ê¸° í† í°** â€” 1ì‹œê°„ ìœ íš¨, ìë™ìœ¼ë¡œ êµí™˜
3. **ì¥ê¸° í† í°** â€” 60ì¼ ìœ íš¨, ì„¤ì • íŒŒì¼ì— ì €ì¥
4. **í† í° ê°±ì‹ ** â€” ë§Œë£Œ ì „ì— ê°±ì‹  í•„ìš”

ìê²© ì¦ëª… ë¡œë”© ìˆœì„œ:
1. í™˜ê²½ ë³€ìˆ˜ (`THREADS_APP_ID`, `THREADS_APP_SECRET`, `THREADS_ACCESS_TOKEN`)
2. `~/.config/thrd-cli/config.json`

### í•„ìš”í•œ ìŠ¤ì½”í”„

| ìŠ¤ì½”í”„ | ìš©ë„ |
|--------|------|
| `threads_basic` | í”„ë¡œí•„ ì •ë³´ ì½ê¸° |
| `threads_content_publish` | ê²Œì‹œë¬¼ ìƒì„± ë° ì‚­ì œ |
| `threads_read_replies` | ë‹µê¸€ ì½ê¸° |
| `threads_manage_replies` | ë‹µê¸€ ìˆ¨ê¸°ê¸°/í•´ì œ |
| `threads_manage_insights` | ì¸ì‚¬ì´íŠ¸ ì¡°íšŒ |

## ì•Œì•„ë‘ë©´ ì¢‹ì€ ê²ƒ

- **ë¯¸ë””ì–´ëŠ” ê³µê°œ URLì´ì–´ì•¼ í•©ë‹ˆë‹¤** â€” Threads APIëŠ” íŒŒì¼ ì—…ë¡œë“œë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ì™€ ë™ì˜ìƒì€ HTTPSë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ URLì´ì–´ì•¼ í•©ë‹ˆë‹¤.
- **2ë‹¨ê³„ ê²Œì‹œ** â€” APIëŠ” ë¨¼ì € "ì»¨í…Œì´ë„ˆ"ë¥¼ ìƒì„±í•œ ë’¤ ë°œí–‰í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. thrd-cliê°€ ì´ ê³¼ì •ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- **ì»¨í…Œì´ë„ˆ ì²˜ë¦¬ ì‹œê°„** â€” í…ìŠ¤íŠ¸ë¥¼ í¬í•¨í•œ ëª¨ë“  ì»¨í…Œì´ë„ˆëŠ” ì²˜ë¦¬ ì‹œê°„ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. CLIê°€ ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ í™•ì¸í•œ ë’¤ ë°œí–‰í•©ë‹ˆë‹¤.
- **ìš”ì²­ ì œí•œ** â€” ì‚¬ìš©ìë‹¹ ì‹œê°„ë‹¹ 250íšŒ API í˜¸ì¶œ, 24ì‹œê°„ë‹¹ 250ê°œ ê²Œì‹œë¬¼.

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ cli.ts              # ëª…ë ¹ì–´ ì •ì˜ (commander)
â”œâ”€â”€ config.ts           # í† í° ë¡œë”©, ê²€ì¦, ê°±ì‹ 
â”œâ”€â”€ auth.ts             # OAuth 2.0 í”Œë¡œìš° (ë¡œì»¬ ì½œë°± ì„œë²„)
â””â”€â”€ client/
    â”œâ”€â”€ index.ts        # ThreadsClient (í† í° ì¸ì¦, fetch, ìš”ì²­ ì œí•œ)
    â”œâ”€â”€ types.ts        # ê³µìš© íƒ€ì… ì •ì˜
    â”œâ”€â”€ posts.ts        # ê²Œì‹œë¬¼ ìƒì„± (ì»¨í…Œì´ë„ˆ + ë°œí–‰), ì‚­ì œ, íƒ€ì„ë¼ì¸
    â”œâ”€â”€ replies.ts      # ë‹µê¸€ ê´€ë¦¬
    â”œâ”€â”€ profiles.ts     # ì‚¬ìš©ì í”„ë¡œí•„
    â””â”€â”€ insights.ts     # ë¯¸ë””ì–´ ë° ê³„ì • ì¸ì‚¬ì´íŠ¸
```

## ìš”êµ¬ ì‚¬í•­

- Node.js >= 18
- Threads API ê¶Œí•œì´ ìˆëŠ” Meta ê°œë°œì ì•± ([developers.facebook.com](https://developers.facebook.com/apps/))
- Threads ê³„ì •

## ë¼ì´ì„ ìŠ¤

MIT
